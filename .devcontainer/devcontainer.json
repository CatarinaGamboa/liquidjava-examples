{
  "name": "LiquidJava Extension Dev",
  "image": "mcr.microsoft.com/devcontainers/javascript-node:20",
  "customizations": {
    "vscode": {
      "extensions": [
        "vscjava.vscode-java-pack",
        "${containerWorkspaceFolder}/client/liquid-java-0.0.15.vsix"
      ],
      "settings": {
        "terminal.integrated.defaultProfile.linux": "bash"
      }
    }
  },
  "features": {
    "ghcr.io/devcontainers/features/java:1": {
      "version": "21"
    },
    "ghcr.io/devcontainers/features/git-lfs:1": {}
  },
  "postCreateCommand": "echo 'ðŸ‘‰ Starting installation process...' > /tmp/setup-log.txt && git lfs install >> /tmp/setup-log.txt 2>&1 && echo 'ðŸ”„ Pulling LFS files...' >> /tmp/setup-log.txt && git lfs pull >> /tmp/setup-log.txt 2>&1 && echo 'ðŸ“¦ Installing extension...' >> /tmp/setup-log.txt && code --install-extension ./extension/liquid-java-0.0.15.vsix --force >> /tmp/setup-log.txt 2>&1 && echo 'âœ… LiquidJava extension installation complete!' >> /tmp/setup-log.txt",
  "postStartCommand": "if [ -d './examples/demo/src/' ]; then echo 'ðŸ“‚ Opening examples directory...' >> /tmp/setup-log.txt && code ./examples/demo/src/ >> /tmp/setup-log.txt 2>&1 && echo 'âœ… Examples opened!' >> /tmp/setup-log.txt; else echo 'âŒ Examples directory not found' >> /tmp/setup-log.txt; fi",
  "postAttachCommand": {
    "notifyCompletion": "echo '\n\n==========================================\nðŸŽ‰ SETUP COMPLETE: LiquidJava Extension Development Environment is ready!\n==========================================\n' && echo '\nSetup log:' && cat /tmp/setup-log.txt"
  }
}
